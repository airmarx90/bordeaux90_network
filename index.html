<html>
    <head>
        <meta charset="utf-8">
        
            <script>function neighbourhoodHighlight(params) {
  // console.log("in nieghbourhoodhighlight");
  allNodes = nodes.get({ returnType: "Object" });
  // originalNodes = JSON.parse(JSON.stringify(allNodes));
  // if something is selected:
  if (params.nodes.length > 0) {
    highlightActive = true;
    var i, j;
    var selectedNode = params.nodes[0];
    var degrees = 2;

    // mark all nodes as hard to read.
    for (let nodeId in allNodes) {
      // nodeColors[nodeId] = allNodes[nodeId].color;
      allNodes[nodeId].color = "rgba(200,200,200,0.5)";
      if (allNodes[nodeId].hiddenLabel === undefined) {
        allNodes[nodeId].hiddenLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }
    var connectedNodes = network.getConnectedNodes(selectedNode);
    var allConnectedNodes = [];

    // get the second degree nodes
    for (i = 1; i < degrees; i++) {
      for (j = 0; j < connectedNodes.length; j++) {
        allConnectedNodes = allConnectedNodes.concat(
          network.getConnectedNodes(connectedNodes[j])
        );
      }
    }

    // all second degree nodes get a different color and their label back
    for (i = 0; i < allConnectedNodes.length; i++) {
      // allNodes[allConnectedNodes[i]].color = "pink";
      allNodes[allConnectedNodes[i]].color = "rgba(150,150,150,0.75)";
      if (allNodes[allConnectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[allConnectedNodes[i]].label =
          allNodes[allConnectedNodes[i]].hiddenLabel;
        allNodes[allConnectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // all first degree nodes get their own color and their label back
    for (i = 0; i < connectedNodes.length; i++) {
      // allNodes[connectedNodes[i]].color = undefined;
      allNodes[connectedNodes[i]].color = nodeColors[connectedNodes[i]];
      if (allNodes[connectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[connectedNodes[i]].label =
          allNodes[connectedNodes[i]].hiddenLabel;
        allNodes[connectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // the main node gets its own color and its label back.
    // allNodes[selectedNode].color = undefined;
    allNodes[selectedNode].color = nodeColors[selectedNode];
    if (allNodes[selectedNode].hiddenLabel !== undefined) {
      allNodes[selectedNode].label = allNodes[selectedNode].hiddenLabel;
      allNodes[selectedNode].hiddenLabel = undefined;
    }
  } else if (highlightActive === true) {
    // console.log("highlightActive was true");
    // reset all nodes
    for (let nodeId in allNodes) {
      // allNodes[nodeId].color = "purple";
      allNodes[nodeId].color = nodeColors[nodeId];
      // delete allNodes[nodeId].color;
      if (allNodes[nodeId].hiddenLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].hiddenLabel;
        allNodes[nodeId].hiddenLabel = undefined;
      }
    }
    highlightActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    // console.log("Nothing was selected");
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        // allNodes[nodeId].color = {};
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function filterHighlight(params) {
  allNodes = nodes.get({ returnType: "Object" });
  // if something is selected:
  if (params.nodes.length > 0) {
    filterActive = true;
    let selectedNodes = params.nodes;

    // hiding all nodes and saving the label
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = true;
      if (allNodes[nodeId].savedLabel === undefined) {
        allNodes[nodeId].savedLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }

    for (let i=0; i < selectedNodes.length; i++) {
      allNodes[selectedNodes[i]].hidden = false;
      if (allNodes[selectedNodes[i]].savedLabel !== undefined) {
        allNodes[selectedNodes[i]].label = allNodes[selectedNodes[i]].savedLabel;
        allNodes[selectedNodes[i]].savedLabel = undefined;
      }
    }

  } else if (filterActive === true) {
    // reset all nodes
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = false;
      if (allNodes[nodeId].savedLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].savedLabel;
        allNodes[nodeId].savedLabel = undefined;
      }
    }
    filterActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function selectNode(nodes) {
  network.selectNodes(nodes);
  neighbourhoodHighlight({ nodes: nodes });
  return nodes;
}

function selectNodes(nodes) {
  network.selectNodes(nodes);
  filterHighlight({nodes: nodes});
  return nodes;
}

function highlightFilter(filter) {
  let selectedNodes = []
  let selectedProp = filter['property']
  if (filter['item'] === 'node') {
    let allNodes = nodes.get({ returnType: "Object" });
    for (let nodeId in allNodes) {
      if (allNodes[nodeId][selectedProp] && filter['value'].includes((allNodes[nodeId][selectedProp]).toString())) {
        selectedNodes.push(nodeId)
      }
    }
  }
  else if (filter['item'] === 'edge'){
    let allEdges = edges.get({returnType: 'object'});
    // check if the selected property exists for selected edge and select the nodes connected to the edge
    for (let edge in allEdges) {
      if (allEdges[edge][selectedProp] && filter['value'].includes((allEdges[edge][selectedProp]).toString())) {
        selectedNodes.push(allEdges[edge]['from'])
        selectedNodes.push(allEdges[edge]['to'])
      }
    }
  }
  selectNodes(selectedNodes)
}</script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
            
            
            
            
            

        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 850px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "TDC", "label": "TDC", "shape": "dot", "title": "Testa Di Cazzo/Traques, detestes mais celebres (1989)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Sey\u003cbr\u003e\u2022 Tone\u003cbr\u003e\u2022 Gysmo\u003cbr\u003e\u2022 Bart\u003cbr\u003e\u2022 Cam\u00e9\u003cbr\u003e\u2022 Raven\u003cbr\u003e\u2022 Maze\u003cbr\u003e\u2022 Spark\u003cbr\u003e\u2022 Choco\u003cbr\u003e\u2022 Kate\u003cbr\u003e\u2022 Lazer\u003cbr\u003e\u2022 Tsar\u003cbr\u003e\u2022 Acist\u003cbr\u003e\u2022 Girl\u003cbr\u003e\u2022 Goat\u003cbr\u003e\u2022 Runer\u003cbr\u003e\u2022 Obsen\u003cbr\u003e\u2022 Doter\u003cbr\u003e\u2022 Riot\u003cbr\u003e\u2022 Foe\u003cbr\u003e\u2022 Snek\u003cbr\u003e\u2022 Ektar\u003cbr\u003e\u2022 Trone\u003cbr\u003e\u2022 Orn\u00e9\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 24, "x": -485.45961803886905, "y": 1.0158869202612377}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "DDA", "label": "DDA", "shape": "dot", "title": "Direct Dans l\u0026#x27;Assemblee (1990)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Aspik\u003cbr\u003e\u2022 Basik\u003cbr\u003e\u2022 Kosh\u003cbr\u003e\u2022 Alien\u003cbr\u003e\u2022 Warner\u003cbr\u003e\u2022 Shoker\u003cbr\u003e\u2022 Inox\u003cbr\u003e\u2022 Spyr\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 8, "x": -887.5197257629457, "y": 1.3209702663418952}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "1ST Crew", "label": "1ST Crew", "shape": "dot", "title": "1ST Crew (1990)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Star\u003cbr\u003e\u2022 Basik\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 2, "x": -965.9407717952032, "y": -1.2712965023412264}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "357 Kartel", "label": "357 Kartel", "shape": "dot", "title": " (1990)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Arlem\u003cbr\u003e\u2022 Warner\u003cbr\u003e\u2022 Toner\u003cbr\u003e\u2022 Con\u003cbr\u003e\u2022 Shoker\u003cbr\u003e\u2022 Tucker\u003cbr\u003e\u2022 Crasher\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 7, "x": -562.3377012550156, "y": -2.306279802564635}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "IBM", "label": "IBM", "shape": "dot", "title": "Intelligents, Beaux et Modestes / Institut des Bombes et des Markeurs (1991)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Riot\u003cbr\u003e\u2022 Foe\u003cbr\u003e\u2022 Oame\u003cbr\u003e\u2022 Zoeto\u003cbr\u003e\u2022 Acn\u00e9\u003cbr\u003e\u2022 Osier\u003cbr\u003e\u2022 Bart\u003cbr\u003e\u2022 Mosk\u00e9\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 8, "x": -573.1275680887683, "y": -2.5059989054726546}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "335", "label": "335", "shape": "dot", "title": "335 (1991)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Girl\u003cbr\u003e\u2022 Lazer\u003cbr\u003e\u2022 Sateer\u003cbr\u003e\u2022 Das\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": -765.8594156675942, "y": 0.3459198703328195}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "TME", "label": "TME", "shape": "dot", "title": "The Mad Evil (1991)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Lazer\u003cbr\u003e\u2022 Girl\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 2, "x": -766.7994046681167, "y": 0.620685739642455}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "567", "label": "567", "shape": "dot", "title": "567 (birthdays) (1992)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Gysmo\u003cbr\u003e\u2022 Riot\u003cbr\u003e\u2022 Bart\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": -758.7758848342426, "y": -2.4569874839847263}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "CSP", "label": "CSP", "shape": "dot", "title": "Collage Sticker Prohibe (1992)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Gysmo\u003cbr\u003e\u2022 Bart\u003cbr\u003e\u2022 Riot\u003cbr\u003e\u2022 Lazer\u003cbr\u003e\u2022 Girl\u003cbr\u003e\u2022 Ektar\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 6, "x": -702.6733122903057, "y": -1.5017581782031155}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "5GB", "label": "5GB", "shape": "dot", "title": "5 Gloubi Boulga (1993)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Spyr\u003cbr\u003e\u2022 Dock\u003cbr\u003e\u2022 Kinger\u003cbr\u003e\u2022 Den\u003cbr\u003e\u2022 Saber\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": -969.507638660913, "y": -0.2526038415659879}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "UBA", "label": "UBA", "shape": "dot", "title": "Union Bordelaise Artistique (1993)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Amon\u003cbr\u003e\u2022 Melt\u003cbr\u003e\u2022 Hos\u00e9\u003cbr\u003e\u2022 Omer\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": -552.8725749171398, "y": -1.2592987239005395}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "TKO", "label": "TKO", "shape": "dot", "title": "Tomik Kent Originals (1993)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Atomik\u003cbr\u003e\u2022 Abyme\u003cbr\u003e\u2022 Arome\u003cbr\u003e\u2022 Achet\u003cbr\u003e\u2022 Sear\u003cbr\u003e\u2022 Toase\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 6, "x": -725.071099362752, "y": -2.5529692018283905}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "RGI", "label": "RGI", "shape": "dot", "title": "Radio des Gnomes Invisibles (1993)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Lesiles\u003cbr\u003e\u2022 Clyde\u003cbr\u003e\u2022 Triste\u003cbr\u003e\u2022 Lionel\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": -640.6531521209888, "y": -0.19013098993700764}, {"borderWidth": 0, "color": "#7A0019", "fixed": false, "font": {"color": "#000000"}, "id": "BP", "label": "BP", "shape": "dot", "title": "Babylone Posse (1993)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Kez\u003cbr\u003e\u2022 Resk\u003cbr\u003e\u2022 Blackos\u003cbr\u003e\u2022 MisterZ\u003cbr\u003e\u2022 Gildas\u003cbr\u003e\u2022 Raven\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 6, "x": -896.6959154059723, "y": 0.5564613751860238}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "KHR", "label": "KHR", "shape": "dot", "title": "Kartonne Harach Retourn (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Oame\u003cbr\u003e\u2022 Shok\u003cbr\u003e\u2022 Pee\u003cbr\u003e\u2022 Hos\u00e9\u003cbr\u003e\u2022 Iacer\u003cbr\u003e\u2022 Hoch\u003cbr\u003e\u2022 Reis\u003cbr\u003e\u2022 Lesiles\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 8, "x": 48.43825022560962, "y": 2.5449754084029865}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "TF1", "label": "TF1", "shape": "dot", "title": "The Fresh One / T\u0026#x27;en Fume 1 (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Bario\u003cbr\u003e\u2022 Acte\u003cbr\u003e\u2022 Hos\u00e9\u003cbr\u003e\u2022 Girl\u003cbr\u003e\u2022 Rue\u003cbr\u003e\u2022 Con\u003cbr\u003e\u2022 Grea\u003cbr\u003e\u2022 Orn\u00e9\u003cbr\u003e\u2022 Milk\u003cbr\u003e\u2022 Brick\u003cbr\u003e\u2022 Sorcy\u00e9\u003cbr\u003e\u2022 Kasm\u003cbr\u003e\u2022 Omer\u003cbr\u003e\u2022 Kapone\u003cbr\u003e\u2022 Akre\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 15, "x": -31.76235266221571, "y": -1.0405149969574303}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "EPE", "label": "EPE", "shape": "dot", "title": "En Plein Effort (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Karem\u003cbr\u003e\u2022 Kaya\u003cbr\u003e\u2022 Maler\u003cbr\u003e\u2022 Pneh\u003cbr\u003e\u2022 Hank\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": -6.929117321033525, "y": -2.0679461907734273}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "CV", "label": "CV", "shape": "dot", "title": "Choc Visuel / Chari Vari (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Foser\u003cbr\u003e\u2022 Peg\u003cbr\u003e\u2022 Cha\u003cbr\u003e\u2022 Viol\u003cbr\u003e\u2022 Pire\u003cbr\u003e\u2022 Snek\u003cbr\u003e\u2022 Mew\u003cbr\u003e\u2022 Acn\u00e9\u003cbr\u003e\u2022 Lynio\u003cbr\u003e\u2022 Tibe\u003cbr\u003e\u2022 Loke\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 11, "x": 122.438286836992, "y": -1.4782079772208911}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "VO", "label": "VO", "shape": "dot", "title": "Vandales organises (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Scan\u003cbr\u003e\u2022 Achet\u003cbr\u003e\u2022 Rekm\u003cbr\u003e\u2022 Miet\u003cbr\u003e\u2022 Sucet\u003cbr\u003e\u2022 Grems\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 6, "x": 158.77589709372094, "y": 2.2791958006679915}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "SPS/LIS", "label": "SPS/LIS", "shape": "dot", "title": "SPS / Life Is Short (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Dally\u003cbr\u003e\u2022 Edge\u003cbr\u003e\u2022 Gobe\u003cbr\u003e\u2022 Negre\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": 127.19644299645374, "y": 0.6376306222948078}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "DSH", "label": "DSH", "shape": "dot", "title": "Da Sympathic Hashman (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Runer\u003cbr\u003e\u2022 Maze\u003cbr\u003e\u2022 Dar 2\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": -120.2002009532945, "y": -0.6246969742535453}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "M14", "label": "M14", "shape": "dot", "title": "Marengo 14 (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Acist\u003cbr\u003e\u2022 Gysmo\u003cbr\u003e\u2022 Riot\u003cbr\u003e\u2022 Sey\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": -249.52812904256425, "y": -1.477506688495783}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "BAP", "label": "BAP", "shape": "dot", "title": " (1994)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Acm\u00e9\u003cbr\u003e\u2022 Sime\u003cbr\u003e\u2022 Posk\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": -8.090296213210124, "y": 1.0874746218677582}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "MMC", "label": "MMC", "shape": "dot", "title": "Mange moi le cul\u0026#x27; / ma m\u00e8re est au courant (1995)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Scan\u003cbr\u003e\u2022 Achet\u003cbr\u003e\u2022 Rekm\u003cbr\u003e\u2022 Miet\u003cbr\u003e\u2022 Sucet\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": 112.67370242457145, "y": -1.7712693112391675}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "K2R", "label": "K2R", "shape": "dot", "title": "Le d\u00e9tachant (1995)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Grea\u003cbr\u003e\u2022 Pegre\u003cbr\u003e\u2022 Sonor\u003cbr\u003e\u2022 Skore\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": 121.7783494280289, "y": 1.7407287732276902}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "PBC", "label": "PBC", "shape": "dot", "title": "Plomb Butane Clou / PegBoy Crew (1995)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Girl\u003cbr\u003e\u2022 Rue\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 2, "x": -157.248945999105, "y": 0.18250064591940313}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "DKP", "label": "DKP", "shape": "dot", "title": " (1995)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Zebulon\u003cbr\u003e\u2022 Rocket\u003cbr\u003e\u2022 Time\u003cbr\u003e\u2022 Rido\u003cbr\u003e\u2022 Ire 2\u003cbr\u003e\u2022 Kero\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 6, "x": 32.365344132703626, "y": -1.4234813317307289}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "MEL", "label": "MEL", "shape": "dot", "title": " (1995)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Osir\u00e9\u003cbr\u003e\u2022 Diner\u003cbr\u003e\u2022 Prone\u003cbr\u003e\u2022 Seize\u003cbr\u003e\u2022 Chine\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": 166.53301253245357, "y": 1.1837339635794493}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "HMS", "label": "HMS", "shape": "dot", "title": "Hopital Medecin sadic (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Lesiles\u003cbr\u003e\u2022 Milk\u003cbr\u003e\u2022 Scur\u003cbr\u003e\u2022 Mozar\u003cbr\u003e\u2022 Falkon\u003cbr\u003e\u2022 Tekel\u003cbr\u003e\u2022 Rido\u003cbr\u003e\u2022 Hoch\u003cbr\u003e\u2022 Woo\u003cbr\u003e\u2022 Geem\u003cbr\u003e\u2022 Saek\u003cbr\u003e\u2022 Koner\u003cbr\u003e\u2022 Rocket\u003cbr\u003e\u2022 Meab\u003cbr\u003e\u2022 Argo\u003cbr\u003e\u2022 Nubuk\u003cbr\u003e\u2022 Oame\u003cbr\u003e\u2022 Noich\u003cbr\u003e\u2022 Zebre\u003cbr\u003e\u2022 Consom\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 20, "x": 168.20774358030675, "y": -2.1815311402757556}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "MX", "label": "MX", "shape": "dot", "title": "MalrauX (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Bario\u003cbr\u003e\u2022 Acte\u003cbr\u003e\u2022 Milk\u003cbr\u003e\u2022 Grea\u003cbr\u003e\u2022 Orn\u00e9\u003cbr\u003e\u2022 Hos\u00e9\u003cbr\u003e\u2022 Rue\u003cbr\u003e\u2022 Melt\u003cbr\u003e\u2022 Con\u003cbr\u003e\u2022 Argo\u003cbr\u003e\u2022 Grade\u003cbr\u003e\u2022 Oame\u003cbr\u003e\u2022 Mozar\u003cbr\u003e\u2022 Woo\u003cbr\u003e\u2022 Hoch\u003cbr\u003e\u2022 Snek\u003cbr\u003e\u2022 Cha\u003cbr\u003e\u2022 Erot\u003cbr\u003e\u2022 Ba\u003cbr\u003e\u2022 Ketie\u003cbr\u003e\u2022 Ros\u003cbr\u003e\u2022 Sade\u003cbr\u003e\u2022 Tekel\u003cbr\u003e\u2022 Nubuk\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 24, "x": 152.86014308841482, "y": -2.509385957281457}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "PME", "label": "PME", "shape": "dot", "title": "Partisans du Moindre Effort (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Riot\u003cbr\u003e\u2022 Foe\u003cbr\u003e\u2022 Oame\u003cbr\u003e\u2022 Pum\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": -183.86596546230382, "y": 0.44790323226129136}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "NA", "label": "NA", "shape": "dot", "title": "Ninja Attack / Natural Art (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Melt\u003cbr\u003e\u2022 Rue\u003cbr\u003e\u2022 Hos\u00e9\u003cbr\u003e\u2022 Con\u003cbr\u003e\u2022 Fes\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": 14.096352925157941, "y": -2.210812617176806}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "NO", "label": "NO", "shape": "dot", "title": "No crew (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Oame\u003cbr\u003e\u2022 Hoch\u003cbr\u003e\u2022 Ros\u003cbr\u003e\u2022 Sade\u003cbr\u003e\u2022 Argo\u003cbr\u003e\u2022 Foe\u003cbr\u003e\u2022 Grea\u003cbr\u003e\u2022 Ba\u003cbr\u003e\u2022 Tekel\u003cbr\u003e\u2022 Most\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 10, "x": 150.6694459663751, "y": 0.177341767992865}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "HEV", "label": "HEV", "shape": "dot", "title": "Heresie Et Vandalisme (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 User\u003cbr\u003e\u2022 Polka\u003cbr\u003e\u2022 Hirm\u003cbr\u003e\u2022 Moane\u003cbr\u003e\u2022 Nil\u003cbr\u003e\u2022 Pedro\u003cbr\u003e\u2022 Rodd\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 7, "x": 135.59906390839328, "y": -0.4815743697141332}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "GMC", "label": "GMC", "shape": "dot", "title": "Gros Mes Couilles (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Milk\u003cbr\u003e\u2022 Bilto\u003cbr\u003e\u2022 Mozar\u003cbr\u003e\u2022 Side\u003cbr\u003e\u2022 Miss Zion\u003cbr\u003e\u2022 Meab\u003cbr\u003e\u2022 Sly\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 7, "x": 44.48083235605363, "y": 0.38495214474167505}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "NBA", "label": "NBA", "shape": "dot", "title": " (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Pegre\u003cbr\u003e\u2022 Jone\u003cbr\u003e\u2022 Sonor\u003cbr\u003e\u2022 Dark\u003cbr\u003e\u2022 Skore\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": 130.519574039224, "y": -2.0888716635750253}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "BW", "label": "BW", "shape": "dot", "title": " (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Mosk\u00e9\u003cbr\u003e\u2022 Pegre\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 2, "x": -90.03617226255992, "y": 0.4407687612335982}, {"borderWidth": 0, "color": "#e69138", "fixed": false, "font": {"color": "#000000"}, "id": "PQP", "label": "PQP", "shape": "dot", "title": "Pigeon Qui P\u00e8te (1996)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Melt\u003cbr\u003e\u2022 Crok\u003cbr\u003e\u2022 Vatoo\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": 2.9487810130633916, "y": 2.5599973897487653}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "LAZY", "label": "LAZY", "shape": "dot", "title": "Feignant (2000)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Melt\u003cbr\u003e\u2022 Rue\u003cbr\u003e\u2022 Grea\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": 542.8078202497856, "y": -1.987578829500078}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "BK", "label": "BK", "shape": "dot", "title": " (1997)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Jone\u003cbr\u003e\u2022 Boogr\u003cbr\u003e\u2022 Dime\u003cbr\u003e\u2022 Krab\u003cbr\u003e\u2022 Jeemee\u003cbr\u003e\u2022 Chea\u003cbr\u003e\u2022 Pornox\u003cbr\u003e\u2022 Mesy\u003cbr\u003e\u2022 Pool\u003cbr\u003e\u2022 Eryck\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 10, "x": 819.5320606766074, "y": 0.45277107543877676}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "SWA", "label": "SWA", "shape": "dot", "title": "Shadow Warriors Army (1997)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Goat\u003cbr\u003e\u2022 Lesiles\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 2, "x": 587.6554279156514, "y": 0.27178909346444924}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "NC", "label": "NC", "shape": "dot", "title": "Nuer Crew (1997)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Diar\u00e9\u003cbr\u003e\u2022 Orn\u00e9\u003cbr\u003e\u2022 super\u003cbr\u003e\u2022 kes73\u003cbr\u003e\u2022 Soma\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": 664.3944725555796, "y": 0.3953413597712518}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "FTS", "label": "FTS", "shape": "dot", "title": "Feconde ta soeur (1997)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Noak\u003cbr\u003e\u2022 Nubuk\u003cbr\u003e\u2022 Ufo\u003cbr\u003e\u2022 Mort\u003cbr\u003e\u2022 Lens\u003cbr\u003e\u2022 Negre\u003cbr\u003e\u2022 Sociz\u003cbr\u003e\u2022 P4\u003cbr\u003e\u2022 Guedin\u003cbr\u003e\u2022 Half\u003cbr\u003e\u2022 Mannix\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 11, "x": 745.4733585139854, "y": 1.158398355481432}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "SF", "label": "SF", "shape": "dot", "title": "Saige Formanoire (1997)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Dios\u003cbr\u003e\u2022 Manok\u003cbr\u003e\u2022 Bal6 Menas\u003cbr\u003e\u2022 Biggie\u003cbr\u003e\u2022 Flem\u003cbr\u003e\u2022 Rolex\u003cbr\u003e\u2022 Tao\u003cbr\u003e\u2022 Comer\u003cbr\u003e\u2022 Lez\u003cbr\u003e\u2022 Waly\u003cbr\u003e\u2022 Corias\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 11, "x": 967.5374707539485, "y": 0.0019294400807028378}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "TWS", "label": "TWS", "shape": "dot", "title": " (1998)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Blob\u003cbr\u003e\u2022 Con\u003cbr\u003e\u2022 Truke\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": 635.3339020004842, "y": -0.7830288539053966}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "O2G", "label": "O2G", "shape": "dot", "title": "Haut de Garonne (1998)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Calis\u003cbr\u003e\u2022 Kist\u003cbr\u003e\u2022 Astek\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": 935.7703147463106, "y": 2.1842837860045696}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "1P", "label": "1P", "shape": "dot", "title": " (1998)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Most\u003cbr\u003e\u2022 Ros\u003cbr\u003e\u2022 Sade\u003cbr\u003e\u2022 Matsa\u003cbr\u003e\u2022 Popo\u003cbr\u003e\u2022 Baby\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 6, "x": 702.2393425302521, "y": -2.1947489629713113}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "2BR", "label": "2BR", "shape": "dot", "title": " (1998)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Gare\u003cbr\u003e\u2022 Sack\u003cbr\u003e\u2022 Rire\u003cbr\u003e\u2022 Oc\u00e9an\u003cbr\u003e\u2022 Klon\u00e9\u003cbr\u003e\u2022 Skir\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 6, "x": 965.7841597554545, "y": -2.5528957831428554}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "XS", "label": "XS", "shape": "dot", "title": " (1998)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Diner\u003cbr\u003e\u2022 Foser\u003cbr\u003e\u2022 Malo\u003cbr\u003e\u2022 Osir\u00e9\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": 745.10009215952, "y": -0.13403325213402495}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "XTC", "label": "XTC", "shape": "dot", "title": " (1998)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Xeno\u003cbr\u003e\u2022 Truan\u003cbr\u003e\u2022 Cronik\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": 964.9498569142725, "y": -0.7356534053335806}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "QG", "label": "QG", "shape": "dot", "title": " (1998)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Rodeter\u003cbr\u003e\u2022 Toner\u003cbr\u003e\u2022 Lener\u003cbr\u003e\u2022 Next\u003cbr\u003e\u2022 Corv\u00e9\u003cbr\u003e\u2022 Pero\u003cbr\u003e\u2022 Rask\u003cbr\u003e\u2022 Rate\u003cbr\u003e\u2022 Risk\u003cbr\u003e\u2022 Bret\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 10, "x": 705.6202647868272, "y": -2.4454629382185047}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "AH", "label": "AH", "shape": "dot", "title": "Action Hostile / Alcool et Hach (1998)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Want\u003cbr\u003e\u2022 Taze\u003cbr\u003e\u2022 Carlos\u003cbr\u003e\u2022 Tango\u003cbr\u003e\u2022 Bret\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": 923.134698694258, "y": -0.756397042826136}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "KOS", "label": "KOS", "shape": "dot", "title": "King Of Style (1999)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Orn\u00e9\u003cbr\u003e\u2022 Grea\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 2, "x": 604.331343103229, "y": 0.8242885874081181}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "WIF", "label": "WIF", "shape": "dot", "title": " (1999)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Ruz\u00e9\u003cbr\u003e\u2022 Horem\u003cbr\u003e\u2022 Ovoler\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 3, "x": 968.6808182309978, "y": 1.7347311726758812}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "TT", "label": "TT", "shape": "dot", "title": "Tout Terrain (1999)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Bonom\u003cbr\u003e\u2022 Grade\u003cbr\u003e\u2022 Grems\u003cbr\u003e\u2022 Kolt\u003cbr\u003e\u2022 Polka\u003cbr\u003e\u2022 Rekm\u003cbr\u003e\u2022 Scan\u003cbr\u003e\u2022 Voets\u003cbr\u003e\u2022 Zebre\u003cbr\u003e\u2022 Usine\u003cbr\u003e\u2022 Hoch\u003cbr\u003e\u2022 Moer\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 12, "x": 617.0608098750946, "y": 1.5729512508474368}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "G13", "label": "G13", "shape": "dot", "title": "Nom d\u0026#x27;une variete de weed (2000)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Grems\u003cbr\u003e\u2022 Hoch\u003cbr\u003e\u2022 Pedro\u003cbr\u003e\u2022 Scan\u003cbr\u003e\u2022 Woo\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 5, "x": 633.7346618118299, "y": -1.9323388032616102}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "ACK", "label": "ACK", "shape": "dot", "title": " (2000)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Foser\u003cbr\u003e\u2022 Tib\u00e9\u003cbr\u003e\u2022 Loke\u003cbr\u003e\u2022 Kist\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 4, "x": 776.4312501663563, "y": 1.3405687414452707}, {"borderWidth": 0, "color": "#84a3a6", "fixed": false, "font": {"color": "#000000"}, "id": "AQZ", "label": "AQZ", "shape": "dot", "title": "AQZ\u00e9s (2000)\u003cbr\u003e\u003cb\u003eMembers\u003c/b\u003e\u003cbr\u003e\u2022 Argo\u003cbr\u003e\u2022 Grade\u003cbr\u003e\u2022 Woo\u003cbr\u003e\u2022 Hoch\u003cbr\u003e\u2022 Grems\u003cbr\u003e\u2022 Bonom\u003cbr\u003e\u2022 Scan\u003cbr\u003e\u2022 Zebre\u003cbr\u003e\u2022 Tekel\u003cbr\u003e\u003cspan style=\u0027color:#6b7280\u0027\u003eDouble-click to show/hide members\u003c/span\u003e", "value": 9, "x": 588.0071761884402, "y": -0.6204608399069227}]);
                  edges = new vis.DataSet([{"color": "#888888", "from": "TDC", "title": "Acist, Gysmo, Riot, Sey", "to": "M14", "width": 4}, {"color": "#888888", "from": "TDC", "title": "Bart, Gysmo, Riot", "to": "567", "width": 3}, {"color": "#888888", "from": "TDC", "title": "Bart, Ektar, Girl, Gysmo, Lazer, Riot", "to": "CSP", "width": 6}, {"color": "#888888", "from": "TDC", "title": "Bart, Foe, Riot", "to": "IBM", "width": 3}, {"color": "#888888", "from": "TDC", "title": "Raven", "to": "BP", "width": 1}, {"color": "#888888", "from": "TDC", "title": "Maze, Runer", "to": "DSH", "width": 2}, {"color": "#888888", "from": "TDC", "title": "Girl, Lazer", "to": "335", "width": 2}, {"color": "#888888", "from": "TDC", "title": "Girl, Lazer", "to": "TME", "width": 2}, {"color": "#888888", "from": "TDC", "title": "Girl", "to": "PBC", "width": 1}, {"color": "#888888", "from": "TDC", "title": "Girl, Orn\u00e9", "to": "TF1", "width": 2}, {"color": "#888888", "from": "TDC", "title": "Goat", "to": "SWA", "width": 1}, {"color": "#888888", "from": "TDC", "title": "Foe, Riot", "to": "PME", "width": 2}, {"color": "#888888", "from": "TDC", "title": "Foe", "to": "NO", "width": 1}, {"color": "#888888", "from": "TDC", "title": "Snek", "to": "CV", "width": 1}, {"color": "#888888", "from": "TDC", "title": "Orn\u00e9, Snek", "to": "MX", "width": 2}, {"color": "#888888", "from": "TDC", "title": "Orn\u00e9", "to": "KOS", "width": 1}, {"color": "#888888", "from": "TDC", "title": "Orn\u00e9", "to": "NC", "width": 1}, {"color": "#888888", "from": "DDA", "title": "Basik", "to": "1ST Crew", "width": 1}, {"color": "#888888", "from": "DDA", "title": "Shoker, Warner", "to": "357 Kartel", "width": 2}, {"color": "#888888", "from": "DDA", "title": "Spyr", "to": "5GB", "width": 1}, {"color": "#888888", "from": "357 Kartel", "title": "Toner", "to": "QG", "width": 1}, {"color": "#888888", "from": "357 Kartel", "title": "Con", "to": "MX", "width": 1}, {"color": "#888888", "from": "357 Kartel", "title": "Con", "to": "NA", "width": 1}, {"color": "#888888", "from": "357 Kartel", "title": "Con", "to": "TF1", "width": 1}, {"color": "#888888", "from": "357 Kartel", "title": "Con", "to": "TWS", "width": 1}, {"color": "#888888", "from": "IBM", "title": "Bart, Riot", "to": "567", "width": 2}, {"color": "#888888", "from": "IBM", "title": "Bart, Riot", "to": "CSP", "width": 2}, {"color": "#888888", "from": "IBM", "title": "Riot", "to": "M14", "width": 1}, {"color": "#888888", "from": "IBM", "title": "Foe, Oame, Riot", "to": "PME", "width": 3}, {"color": "#888888", "from": "IBM", "title": "Foe, Oame", "to": "NO", "width": 2}, {"color": "#888888", "from": "IBM", "title": "Oame", "to": "HMS", "width": 1}, {"color": "#888888", "from": "IBM", "title": "Oame", "to": "KHR", "width": 1}, {"color": "#888888", "from": "IBM", "title": "Oame", "to": "MX", "width": 1}, {"color": "#888888", "from": "IBM", "title": "Acn\u00e9", "to": "CV", "width": 1}, {"color": "#888888", "from": "IBM", "title": "Mosk\u00e9", "to": "BW", "width": 1}, {"color": "#888888", "from": "335", "title": "Girl, Lazer", "to": "CSP", "width": 2}, {"color": "#888888", "from": "335", "title": "Girl, Lazer", "to": "TME", "width": 2}, {"color": "#888888", "from": "335", "title": "Girl", "to": "PBC", "width": 1}, {"color": "#888888", "from": "335", "title": "Girl", "to": "TF1", "width": 1}, {"color": "#888888", "from": "TME", "title": "Girl, Lazer", "to": "CSP", "width": 2}, {"color": "#888888", "from": "TME", "title": "Girl", "to": "PBC", "width": 1}, {"color": "#888888", "from": "TME", "title": "Girl", "to": "TF1", "width": 1}, {"color": "#888888", "from": "567", "title": "Bart, Gysmo, Riot", "to": "CSP", "width": 3}, {"color": "#888888", "from": "567", "title": "Gysmo, Riot", "to": "M14", "width": 2}, {"color": "#888888", "from": "567", "title": "Riot", "to": "PME", "width": 1}, {"color": "#888888", "from": "CSP", "title": "Gysmo, Riot", "to": "M14", "width": 2}, {"color": "#888888", "from": "CSP", "title": "Girl", "to": "PBC", "width": 1}, {"color": "#888888", "from": "CSP", "title": "Girl", "to": "TF1", "width": 1}, {"color": "#888888", "from": "CSP", "title": "Riot", "to": "PME", "width": 1}, {"color": "#888888", "from": "UBA", "title": "Melt", "to": "LAZY", "width": 1}, {"color": "#888888", "from": "UBA", "title": "Hos\u00e9, Melt", "to": "MX", "width": 2}, {"color": "#888888", "from": "UBA", "title": "Hos\u00e9, Melt", "to": "NA", "width": 2}, {"color": "#888888", "from": "UBA", "title": "Melt", "to": "PQP", "width": 1}, {"color": "#888888", "from": "UBA", "title": "Hos\u00e9", "to": "KHR", "width": 1}, {"color": "#888888", "from": "UBA", "title": "Hos\u00e9, Omer", "to": "TF1", "width": 2}, {"color": "#888888", "from": "TKO", "title": "Achet", "to": "MMC", "width": 1}, {"color": "#888888", "from": "TKO", "title": "Achet", "to": "VO", "width": 1}, {"color": "#888888", "from": "RGI", "title": "Lesiles", "to": "HMS", "width": 1}, {"color": "#888888", "from": "RGI", "title": "Lesiles", "to": "KHR", "width": 1}, {"color": "#888888", "from": "RGI", "title": "Lesiles", "to": "SWA", "width": 1}, {"color": "#888888", "from": "KHR", "title": "Hoch, Lesiles, Oame", "to": "HMS", "width": 3}, {"color": "#888888", "from": "KHR", "title": "Hoch, Hos\u00e9, Oame", "to": "MX", "width": 3}, {"color": "#888888", "from": "KHR", "title": "Hoch, Oame", "to": "NO", "width": 2}, {"color": "#888888", "from": "KHR", "title": "Oame", "to": "PME", "width": 1}, {"color": "#888888", "from": "KHR", "title": "Hos\u00e9", "to": "NA", "width": 1}, {"color": "#888888", "from": "KHR", "title": "Hos\u00e9", "to": "TF1", "width": 1}, {"color": "#888888", "from": "KHR", "title": "Lesiles", "to": "SWA", "width": 1}, {"color": "#888888", "from": "KHR", "title": "Hoch", "to": "AQZ", "width": 1}, {"color": "#888888", "from": "KHR", "title": "Hoch", "to": "G13", "width": 1}, {"color": "#888888", "from": "KHR", "title": "Hoch", "to": "TT", "width": 1}, {"color": "#888888", "from": "TF1", "title": "Girl, Rue", "to": "PBC", "width": 2}, {"color": "#888888", "from": "TF1", "title": "Grea, Orn\u00e9", "to": "KOS", "width": 2}, {"color": "#888888", "from": "TF1", "title": "Acte, Bario, Con, Grea, Hos\u00e9, Milk, Orn\u00e9, Rue", "to": "MX", "width": 8}, {"color": "#888888", "from": "TF1", "title": "Orn\u00e9", "to": "NC", "width": 1}, {"color": "#888888", "from": "TF1", "title": "Con, Hos\u00e9, Rue", "to": "NA", "width": 3}, {"color": "#888888", "from": "TF1", "title": "Con", "to": "TWS", "width": 1}, {"color": "#888888", "from": "TF1", "title": "Grea, Rue", "to": "LAZY", "width": 2}, {"color": "#888888", "from": "TF1", "title": "Grea", "to": "K2R", "width": 1}, {"color": "#888888", "from": "TF1", "title": "Grea", "to": "NO", "width": 1}, {"color": "#888888", "from": "TF1", "title": "Milk", "to": "GMC", "width": 1}, {"color": "#888888", "from": "TF1", "title": "Milk", "to": "HMS", "width": 1}, {"color": "#888888", "from": "CV", "title": "Cha, Snek", "to": "MX", "width": 2}, {"color": "#888888", "from": "CV", "title": "Foser, Loke", "to": "ACK", "width": 2}, {"color": "#888888", "from": "CV", "title": "Foser", "to": "XS", "width": 1}, {"color": "#888888", "from": "VO", "title": "Achet, Miet, Rekm, Scan, Sucet", "to": "MMC", "width": 5}, {"color": "#888888", "from": "VO", "title": "Grems, Scan", "to": "AQZ", "width": 2}, {"color": "#888888", "from": "VO", "title": "Grems, Scan", "to": "G13", "width": 2}, {"color": "#888888", "from": "VO", "title": "Grems, Rekm, Scan", "to": "TT", "width": 3}, {"color": "#888888", "from": "SPS/LIS", "title": "Negre", "to": "FTS", "width": 1}, {"color": "#888888", "from": "M14", "title": "Riot", "to": "PME", "width": 1}, {"color": "#888888", "from": "MMC", "title": "Scan", "to": "AQZ", "width": 1}, {"color": "#888888", "from": "MMC", "title": "Scan", "to": "G13", "width": 1}, {"color": "#888888", "from": "MMC", "title": "Rekm, Scan", "to": "TT", "width": 2}, {"color": "#888888", "from": "K2R", "title": "Grea", "to": "KOS", "width": 1}, {"color": "#888888", "from": "K2R", "title": "Grea", "to": "LAZY", "width": 1}, {"color": "#888888", "from": "K2R", "title": "Grea", "to": "MX", "width": 1}, {"color": "#888888", "from": "K2R", "title": "Grea", "to": "NO", "width": 1}, {"color": "#888888", "from": "K2R", "title": "Pegre", "to": "BW", "width": 1}, {"color": "#888888", "from": "K2R", "title": "Pegre, Skore, Sonor", "to": "NBA", "width": 3}, {"color": "#888888", "from": "PBC", "title": "Rue", "to": "LAZY", "width": 1}, {"color": "#888888", "from": "PBC", "title": "Rue", "to": "MX", "width": 1}, {"color": "#888888", "from": "PBC", "title": "Rue", "to": "NA", "width": 1}, {"color": "#888888", "from": "DKP", "title": "Rido, Rocket", "to": "HMS", "width": 2}, {"color": "#888888", "from": "MEL", "title": "Diner, Osir\u00e9", "to": "XS", "width": 2}, {"color": "#888888", "from": "HMS", "title": "Argo, Hoch, Milk, Mozar, Nubuk, Oame, Tekel, Woo", "to": "MX", "width": 8}, {"color": "#888888", "from": "HMS", "title": "Argo, Hoch, Oame, Tekel", "to": "NO", "width": 4}, {"color": "#888888", "from": "HMS", "title": "Oame", "to": "PME", "width": 1}, {"color": "#888888", "from": "HMS", "title": "Lesiles", "to": "SWA", "width": 1}, {"color": "#888888", "from": "HMS", "title": "Argo, Hoch, Tekel, Woo, Zebre", "to": "AQZ", "width": 5}, {"color": "#888888", "from": "HMS", "title": "Hoch, Woo", "to": "G13", "width": 2}, {"color": "#888888", "from": "HMS", "title": "Hoch, Zebre", "to": "TT", "width": 2}, {"color": "#888888", "from": "HMS", "title": "Meab, Milk, Mozar", "to": "GMC", "width": 3}, {"color": "#888888", "from": "HMS", "title": "Nubuk", "to": "FTS", "width": 1}, {"color": "#888888", "from": "MX", "title": "Grea, Orn\u00e9", "to": "KOS", "width": 2}, {"color": "#888888", "from": "MX", "title": "Orn\u00e9", "to": "NC", "width": 1}, {"color": "#888888", "from": "MX", "title": "Con, Hos\u00e9, Melt, Rue", "to": "NA", "width": 4}, {"color": "#888888", "from": "MX", "title": "Con", "to": "TWS", "width": 1}, {"color": "#888888", "from": "MX", "title": "Argo, Ba, Grea, Hoch, Oame, Ros, Sade, Tekel", "to": "NO", "width": 8}, {"color": "#888888", "from": "MX", "title": "Oame", "to": "PME", "width": 1}, {"color": "#888888", "from": "MX", "title": "Grea, Melt, Rue", "to": "LAZY", "width": 3}, {"color": "#888888", "from": "MX", "title": "Melt", "to": "PQP", "width": 1}, {"color": "#888888", "from": "MX", "title": "Argo, Grade, Hoch, Tekel, Woo", "to": "AQZ", "width": 5}, {"color": "#888888", "from": "MX", "title": "Hoch, Woo", "to": "G13", "width": 2}, {"color": "#888888", "from": "MX", "title": "Grade, Hoch", "to": "TT", "width": 2}, {"color": "#888888", "from": "MX", "title": "Milk, Mozar", "to": "GMC", "width": 2}, {"color": "#888888", "from": "MX", "title": "Nubuk", "to": "FTS", "width": 1}, {"color": "#888888", "from": "MX", "title": "Ros, Sade", "to": "1P", "width": 2}, {"color": "#888888", "from": "PME", "title": "Foe, Oame", "to": "NO", "width": 2}, {"color": "#888888", "from": "NA", "title": "Con", "to": "TWS", "width": 1}, {"color": "#888888", "from": "NA", "title": "Melt, Rue", "to": "LAZY", "width": 2}, {"color": "#888888", "from": "NA", "title": "Melt", "to": "PQP", "width": 1}, {"color": "#888888", "from": "NO", "title": "Argo, Hoch, Tekel", "to": "AQZ", "width": 3}, {"color": "#888888", "from": "NO", "title": "Hoch", "to": "G13", "width": 1}, {"color": "#888888", "from": "NO", "title": "Hoch", "to": "TT", "width": 1}, {"color": "#888888", "from": "NO", "title": "Grea", "to": "KOS", "width": 1}, {"color": "#888888", "from": "NO", "title": "Grea", "to": "LAZY", "width": 1}, {"color": "#888888", "from": "NO", "title": "Most, Ros, Sade", "to": "1P", "width": 3}, {"color": "#888888", "from": "HEV", "title": "Polka", "to": "TT", "width": 1}, {"color": "#888888", "from": "HEV", "title": "Pedro", "to": "G13", "width": 1}, {"color": "#888888", "from": "NBA", "title": "Pegre", "to": "BW", "width": 1}, {"color": "#888888", "from": "NBA", "title": "Jone", "to": "BK", "width": 1}, {"color": "#888888", "from": "PQP", "title": "Melt", "to": "LAZY", "width": 1}, {"color": "#888888", "from": "LAZY", "title": "Grea", "to": "KOS", "width": 1}, {"color": "#888888", "from": "NC", "title": "Orn\u00e9", "to": "KOS", "width": 1}, {"color": "#888888", "from": "O2G", "title": "Kist", "to": "ACK", "width": 1}, {"color": "#888888", "from": "XS", "title": "Foser", "to": "ACK", "width": 1}, {"color": "#888888", "from": "QG", "title": "Bret", "to": "AH", "width": 1}, {"color": "#888888", "from": "TT", "title": "Bonom, Grade, Grems, Hoch, Scan, Zebre", "to": "AQZ", "width": 6}, {"color": "#888888", "from": "TT", "title": "Grems, Hoch, Scan", "to": "G13", "width": 3}, {"color": "#888888", "from": "G13", "title": "Grems, Hoch, Scan, Woo", "to": "AQZ", "width": 4}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"nodes": {"shape": "dot"}, "edges": {"smooth": {"enabled": true, "type": "dynamic"}, "color": {"inherit": false}}, "interaction": {"hover": true, "tooltipDelay": 120, "hideEdgesOnDrag": false, "hideEdgesOnZoom": false, "zoomView": true}, "layout": {"improvedLayout": false}, "physics": {"enabled": true, "stabilization": {"enabled": true, "iterations": 250}}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    
<style>
/* Legend */
#legend-panel {
  position: fixed; left: 16px; bottom: 16px; z-index: 20;
  background: rgba(255,255,255,0.96); border: 1px solid #e5e7eb;
  border-radius: 12px; padding: 12px 14px; box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: #111; max-width: 380px; font-size: 13px; line-height: 1.35;
}
#legend-panel h3 { margin: 0 0 6px 0; font-size: 14px; font-weight: 700; }
#legend-panel ul { list-style: none; padding: 0; margin: 0; }
.legend-dot { display:inline-block; width:12px; height:12px; border-radius:50%; border:1px solid rgba(0,0,0,0.15); }
#edge-legend { margin-top: 6px; }
#edge-legend svg { display: block; width: 160px; height: 28px; }
#disclaimer { margin-top: 8px; font-size: 12px; color: #374151; }

/* Toolbar */
#net-toolbar {
  position: fixed; right: 16px; top: 16px; z-index: 21;
  display: flex; gap: 8px; align-items: flex-start; flex-wrap: wrap;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
}
#search-wrap { position: relative; }
#search-input {
  padding: 8px 10px; min-width: 260px; border-radius: 10px; border: 1px solid #e5e7eb;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04); font-size: 13px;
}
#physics-btn, #legend-toggle, #btn-old, #btn-mid, #btn-new {
  padding: 8px 10px; border: 0; border-radius: 999px; font-size: 12px; cursor: pointer;
  transition: filter .15s ease, transform .02s ease;
}
#physics-btn { background: #111; color: #fff; }
#btn-old { background: #f3f4f6; color: #111; border: 1px solid #e5e7eb; }
#btn-mid { background: #f3f4f6; color: #111; border: 1px solid #e5e7eb; }
#btn-new { background: #f3f4f6; color: #111; border: 1px solid #e5e7eb; }
/* Active (highlighted) states with bucket colors */
#btn-old.active { background: #7A0019; color:#fff; border-color: #7A0019; }
#btn-mid.active { background: #e69138; color:#111; border-color: #e69138; }
#btn-new.active { background: #84a3a6; color:#fff; border-color: #84a3a6; }
#legend-toggle {
  position: fixed; left: 16px; bottom: 16px; z-index: 21;
  background: #111; color: #fff; display: none;
}

/* Mobile */
@media (max-width: 720px) {
  #legend-panel { display: none; max-width: 88vw; font-size: 12px; }
  #legend-toggle { display: inline-block; }
  #search-input { min-width: 56vw; }
}

/* Search dropdown */
#search-results {
  position: absolute; top: 36px; left: 0; right: 0; z-index: 30;
  background: #fff; border: 1px solid #e5e7eb; border-radius: 10px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.08); margin: 6px 0 0 0; padding: 6px 0;
  list-style: none; max-height: 280px; overflow: auto; font-size: 13px; display: none;
}
#search-results li { padding: 8px 10px; cursor: pointer; display: flex; align-items: center; gap: 8px; }
#search-results li:hover, #search-results li.active { background: #f3f4f6; }
.badge { font-size: 11px; padding: 2px 6px; border-radius: 999px; border: 1px solid #e5e7eb; color: #374151; }
.badge-crew { background: #eef2ff; border-color: #c7d2fe; }
.badge-member { background: #ecfeff; border-color: #a5f3fc; }

/* Tooltip fix */
.vis-tooltip {
  max-width: 420px;
  white-space: normal;
  line-height: 1.28;
}
.node-tooltip {
  white-space: normal;
  line-height: 1.28;
}
</style>

<!-- Legend -->
<div id="legend-panel" role="note" aria-label="Legend">
  <h3>Legend & How to use</h3>

  <div id="color-legend">
    <ul style="margin:6px 0 10px 0; padding:0; list-style:none;">
      <li style='display:flex;align-items:center;gap:8px;margin:4px 0;'><span class='legend-dot' style='background:#7A0019'></span>1989–1994</li><li style='display:flex;align-items:center;gap:8px;margin:4px 0;'><span class='legend-dot' style='background:#e69138'></span>1994–1996</li><li style='display:flex;align-items:center;gap:8px;margin:4px 0;'><span class='legend-dot' style='background:#84a3a6'></span>1997–2000</li>
    </ul>
  </div>

  <div id="edge-legend" style="margin-top:6px;">
    <div style="margin-bottom:4px;">Edge width = number of shared members</div>
    <svg viewBox="0 0 160 28" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <line x1="8"  y1="10" x2="152" y2="10" stroke="#888888" stroke-width="2"  stroke-linecap="round"/>
      <line x1="8"  y1="20" x2="152" y2="20" stroke="#888888" stroke-width="10" stroke-linecap="round"/>
    </svg>
  </div>

  <div id="howto" style="margin-top:10px; font-size:12px; color:#111;">
    <div style="font-weight:600; margin-bottom:4px;">How to use</div>
    <ul style="padding-left:16px; margin:0;">
      <li><b>Hover</b> a crew to highlight its neighbors.</li>
      <li><b>Double-click</b> a crew to show/hide its members around it.</li>
      <li><b>Search</b>: type a crew or member; use ↑/↓ then Enter to jump.</li>
      <li><b>Pan/Zoom</b>: drag to move, scroll/pinch to zoom.</li>
      <li><b>Physics</b>: toggle for organic motion vs. a stable layout.</li>
    </ul>
  </div>

  <div id="disclaimer" style="margin-top:10px; font-size:12px; color:#374151;"><b>Data & Rights.</b> © 2025 Alexandre S. — All Rights Reserved. View-only in this site. <u>No copying, scraping, redistribution, or AI/ML training</u>. See the <a href='LICENSE-DATA.txt' target='_blank'>Dataset License</a>.</div>
</div>
<button id="legend-toggle" title="Show legend">?</button>

<!-- Toolbar -->
<div id="net-toolbar" role="group" aria-label="Graph controls">
  <div id="search-wrap">
    <input id="search-input" type="text" placeholder="Search crew or member…" autocomplete="off" />
    <ul id="search-results"></ul>
  </div>
  <button id="physics-btn" title="Toggle physics">Physics: on</button>

  <!-- Bucket toggle buttons -->
  <button id="btn-old" data-bucket="old" title="Toggle 1989–1994">1989–1994</button>
  <button id="btn-mid" data-bucket="mid" title="Toggle 1994–1996">1994–1996</button>
  <button id="btn-new" data-bucket="new" title="Toggle 1997–2000">1997–2000</button>
</div>

<script>
(function() {
  var cfg = {"member_map": {"TDC": ["Acist", "Bart", "Cam\u00e9", "Choco", "Doter", "Ektar", "Foe", "Girl", "Goat", "Gysmo", "Kate", "Lazer", "Maze", "Obsen", "Orn\u00e9", "Raven", "Riot", "Runer", "Sey", "Snek", "Spark", "Tone", "Trone", "Tsar"], "DDA": ["Alien", "Aspik", "Basik", "Inox", "Kosh", "Shoker", "Spyr", "Warner"], "1ST Crew": ["Basik", "Star"], "357 Kartel": ["Arlem", "Con", "Crasher", "Shoker", "Toner", "Tucker", "Warner"], "IBM": ["Acn\u00e9", "Bart", "Foe", "Mosk\u00e9", "Oame", "Osier", "Riot", "Zoeto"], "335": ["Das", "Girl", "Lazer", "Sateer"], "TME": ["Girl", "Lazer"], "567": ["Bart", "Gysmo", "Riot"], "CSP": ["Bart", "Ektar", "Girl", "Gysmo", "Lazer", "Riot"], "5GB": ["Den", "Dock", "Kinger", "Saber", "Spyr"], "UBA": ["Amon", "Hos\u00e9", "Melt", "Omer"], "TKO": ["Abyme", "Achet", "Arome", "Atomik", "Sear", "Toase"], "RGI": ["Clyde", "Lesiles", "Lionel", "Triste"], "BP": ["Blackos", "Gildas", "Kez", "MisterZ", "Raven", "Resk"], "KHR": ["Hoch", "Hos\u00e9", "Iacer", "Lesiles", "Oame", "Pee", "Reis", "Shok"], "TF1": ["Acte", "Akre", "Bario", "Brick", "Con", "Girl", "Grea", "Hos\u00e9", "Kapone", "Kasm", "Milk", "Omer", "Orn\u00e9", "Rue", "Sorcy\u00e9"], "EPE": ["Hank", "Karem", "Kaya", "Maler", "Pneh"], "CV": ["Acn\u00e9", "Cha", "Foser", "Loke", "Lynio", "Mew", "Peg", "Pire", "Snek", "Tibe", "Viol"], "VO": ["Achet", "Grems", "Miet", "Rekm", "Scan", "Sucet"], "SPS/LIS": ["Dally", "Edge", "Gobe", "Negre"], "DSH": ["Dar 2", "Maze", "Runer"], "M14": ["Acist", "Gysmo", "Riot", "Sey"], "BAP": ["Acm\u00e9", "Posk", "Sime"], "MMC": ["Achet", "Miet", "Rekm", "Scan", "Sucet"], "K2R": ["Grea", "Pegre", "Skore", "Sonor"], "PBC": ["Girl", "Rue"], "DKP": ["Ire 2", "Kero", "Rido", "Rocket", "Time", "Zebulon"], "MEL": ["Chine", "Diner", "Osir\u00e9", "Prone", "Seize"], "HMS": ["Argo", "Consom", "Falkon", "Geem", "Hoch", "Koner", "Lesiles", "Meab", "Milk", "Mozar", "Noich", "Nubuk", "Oame", "Rido", "Rocket", "Saek", "Scur", "Tekel", "Woo", "Zebre"], "MX": ["Acte", "Argo", "Ba", "Bario", "Cha", "Con", "Erot", "Grade", "Grea", "Hoch", "Hos\u00e9", "Ketie", "Melt", "Milk", "Mozar", "Nubuk", "Oame", "Orn\u00e9", "Ros", "Rue", "Sade", "Snek", "Tekel", "Woo"], "PME": ["Foe", "Oame", "Pum", "Riot"], "NA": ["Con", "Fes", "Hos\u00e9", "Melt", "Rue"], "NO": ["Argo", "Ba", "Foe", "Grea", "Hoch", "Most", "Oame", "Ros", "Sade", "Tekel"], "HEV": ["Hirm", "Moane", "Nil", "Pedro", "Polka", "Rodd", "User"], "GMC": ["Bilto", "Meab", "Milk", "Miss Zion", "Mozar", "Side", "Sly"], "NBA": ["Dark", "Jone", "Pegre", "Skore", "Sonor"], "BW": ["Mosk\u00e9", "Pegre"], "PQP": ["Crok", "Melt", "Vatoo"], "LAZY": ["Grea", "Melt", "Rue"], "BK": ["Boogr", "Chea", "Dime", "Eryck", "Jeemee", "Jone", "Krab", "Mesy", "Pool", "Pornox"], "SWA": ["Goat", "Lesiles"], "NC": ["Diar\u00e9", "Orn\u00e9", "Soma", "kes73", "super"], "FTS": ["Guedin", "Half", "Lens", "Mannix", "Mort", "Negre", "Noak", "Nubuk", "P4", "Sociz", "Ufo"], "SF": ["Bal6 Menas", "Biggie", "Comer", "Corias", "Dios", "Flem", "Lez", "Manok", "Rolex", "Tao", "Waly"], "TWS": ["Blob", "Con", "Truke"], "O2G": ["Astek", "Calis", "Kist"], "1P": ["Baby", "Matsa", "Most", "Popo", "Ros", "Sade"], "2BR": ["Gare", "Klon\u00e9", "Oc\u00e9an", "Rire", "Sack", "Skir"], "XS": ["Diner", "Foser", "Malo", "Osir\u00e9"], "XTC": ["Cronik", "Truan", "Xeno"], "QG": ["Bret", "Corv\u00e9", "Lener", "Next", "Pero", "Rask", "Rate", "Risk", "Rodeter", "Toner"], "AH": ["Bret", "Carlos", "Tango", "Taze", "Want"], "KOS": ["Grea", "Orn\u00e9"], "WIF": ["Horem", "Ovoler", "Ruz\u00e9"], "TT": ["Bonom", "Grade", "Grems", "Hoch", "Kolt", "Moer", "Polka", "Rekm", "Scan", "Usine", "Voets", "Zebre"], "G13": ["Grems", "Hoch", "Pedro", "Scan", "Woo"], "ACK": ["Foser", "Kist", "Loke", "Tib\u00e9"], "AQZ": ["Argo", "Bonom", "Grade", "Grems", "Hoch", "Scan", "Tekel", "Woo", "Zebre"]}, "bucket_map": {"TDC": "old", "DDA": "old", "1ST Crew": "old", "357 Kartel": "old", "IBM": "old", "335": "old", "TME": "old", "567": "old", "CSP": "old", "5GB": "old", "UBA": "old", "TKO": "old", "RGI": "old", "BP": "old", "KHR": "mid", "TF1": "mid", "EPE": "mid", "CV": "mid", "VO": "mid", "SPS/LIS": "mid", "DSH": "mid", "M14": "mid", "BAP": "mid", "MMC": "mid", "K2R": "mid", "PBC": "mid", "DKP": "mid", "MEL": "mid", "HMS": "mid", "MX": "mid", "PME": "mid", "NA": "mid", "NO": "mid", "HEV": "mid", "GMC": "mid", "NBA": "mid", "BW": "mid", "PQP": "mid", "LAZY": "new", "BK": "new", "SWA": "new", "NC": "new", "FTS": "new", "SF": "new", "TWS": "new", "O2G": "new", "1P": "new", "2BR": "new", "XS": "new", "XTC": "new", "QG": "new", "AH": "new", "KOS": "new", "WIF": "new", "TT": "new", "G13": "new", "ACK": "new", "AQZ": "new"}, "initial_buckets": ["old"], "edge_default": "#888888", "colors": {"old": "#7A0019", "mid": "#e69138", "new": "#84a3a6"}};
  function mId(name) { return "m:" + name; }

  /* ---------- utils ---------- */
  function debounce(fn, ms) { var t; return function(){ clearTimeout(t); var a=arguments,ctx=this; t=setTimeout(function(){fn.apply(ctx,a);}, ms); }; }
  function ensureReady(cb) {
    if (typeof network === "undefined" || !network.body) return setTimeout(function(){ensureReady(cb)}, 120);
    cb(network.body.data.nodes, network.body.data.edges);
  }
  function escapeHtml(s){ return s.replace(/[&<>"']/g, function(m){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]); }); }

  /* ---------- Tooltip conversion ---------- */
  function convertTitlesToHTML(nodesDS) {
    var nodes = nodesDS.get(), updates = [];
    for (var i=0;i<nodes.length;i++) {
      var n = nodes[i];
      if (typeof n.title === "string" && n.title.length) {
        var el = document.createElement("div");
        el.className = "node-tooltip";
        el.innerHTML = n.title;     // members already escaped in Python
        updates.push({ id: n.id, title: el });
      }
    }
    if (updates.length) nodesDS.update(updates);
  }

  /* ---------- expand/collapse members (ring layout) ---------- */
  function crewHasMembersVisible(nodesDS, crew) {
    var members = cfg.member_map[crew] || [];
    return members.some(function(m) { return !!nodesDS.get(mId(m)); });
  }
  function addMembers(network, nodesDS, edgesDS, crew) {
    var members = cfg.member_map[crew] || [];
    if (!members.length) return;

    var pCrew = network.getPositions([crew])[crew];
    if (!pCrew) { try { network.stabilize(80); } catch(e){} pCrew = network.getPositions([crew])[crew]; }
    if (!pCrew) pCrew = {x:0, y:0};

    var n = members.length;
    var baseR = Math.min(180, 60 + 10*n);
    var secondRing = n > 12;
    var innerCount = secondRing ? Math.ceil(n/2) : n;
    var outerCount = secondRing ? n - innerCount : 0;
    var angleStepInner = (2*Math.PI) / Math.max(1, innerCount);
    var angleStepOuter = outerCount ? (2*Math.PI)/outerCount : 0;

    var sorted = members.slice().sort(function(a,b){ return a.localeCompare(b); });
    var newNodes = [], newEdges = [];
    for (var i=0;i<sorted.length;i++) {
      var m = sorted[i], mid = mId(m);
      if (nodesDS.get(mid)) continue;

      var useOuter = secondRing && i >= innerCount;
      var k = useOuter ? (i - innerCount) : i;
      var r = useOuter ? baseR + 60 : baseR;
      var a = (useOuter ? angleStepOuter : angleStepInner) * k;

      var x = pCrew.x + r * Math.cos(a);
      var y = pCrew.y + r * Math.sin(a);

      newNodes.push({
        id: mid, label: m, title: "Member of " + crew,
        shape: "box", value: 1, borderWidth: 1, physics: false, x: x, y: y,
        font: {size: 12, color: "#374151"},
        color: {background:"#f3f4f6", border:"#d1d5db"}
      });
      newEdges.push({from: crew, to: mid, width: 1, color: "#c7c7c7"});
    }
    if (newNodes.length) nodesDS.add(newNodes);
    if (newEdges.length) edgesDS.add(newEdges);
    try { network.redraw(); } catch(e) {}
  }
  function removeMembers(nodesDS, edgesDS, crew) {
    var members = cfg.member_map[crew] || [];
    if (!members.length) return;
    var ids = members.map(mId);
    var es = edgesDS.get(); var rmEdges = [];
    for (var i=0;i<es.length;i++) {
      var e = es[i];
      if (ids.indexOf(e.to)!==-1 || ids.indexOf(e.from)!==-1) rmEdges.push(e.id);
    }
    if (rmEdges.length) edgesDS.remove(rmEdges);
    nodesDS.remove(ids);
  }

  /* ---------- neighbor highlight ---------- */
  var originalNodeColors = new Map(); var faded=false;
  function saveOriginalColors(nodesDS) { nodesDS.get().forEach(function(n){ originalNodeColors.set(n.id, n.color); }); }
  function setNodeColor(nodesDS, id, color) { nodesDS.update({id:id, color:color}); }
  function fadeAllExcept(nodesDS, edgesDS, keepSet) {
    faded = true;
    var dimNode = function(c){ return (typeof c === "string") ? "rgba(200,200,200,0.22)" : {background:"rgba(240,240,240,0.4)", border:"rgba(0,0,0,0.15)"}; };
    nodesDS.get().forEach(function(n){ var col = originalNodeColors.get(n.id)||n.color; setNodeColor(nodesDS, n.id, keepSet.has(n.id) ? col : dimNode(col)); });
    var dimEdge = "rgba(136,136,136,0.22)";
    edgesDS.get().forEach(function(e){ var keep = keepSet.has(e.from) && keepSet.has(e.to); edgesDS.update({id:e.id, color: keep ? cfg.edge_default : dimEdge}); });
  }
  function clearFade(nodesDS, edgesDS) {
    if (!faded) return; faded=false;
    nodesDS.get().forEach(function(n){ setNodeColor(nodesDS, n.id, originalNodeColors.get(n.id)||n.color); });
    edgesDS.get().forEach(function(e){ edgesDS.update({id:e.id, color: cfg.edge_default}); });
  }

  /* ---------- search with dropdown ---------- */
  function buildMemberPairs() {
    var out = []; var crews = Object.keys(cfg.member_map);
    for (var i=0;i<crews.length;i++) {
      var c = crews[i], ms = cfg.member_map[c] || [];
      for (var k=0;k<ms.length;k++) out.push({ member:ms[k], member_lc:ms[k].toLowerCase(), crew:c, crew_lc:c.toLowerCase() });
    } return out;
  }
  var memberPairs = buildMemberPairs();
  var crewIdsLC = Object.keys(cfg.bucket_map).map(function(c){ return {crew:c, crew_lc:c.toLowerCase()}; });
  function topMatches(q) {
    if (!q) return [];
    q = q.toLowerCase();
    var res = [];
    crewIdsLC.forEach(function(c){ if (c.crew_lc.indexOf(q)===0) res.push({type:"crew", crew:c.crew, score:1}); });
    crewIdsLC.forEach(function(c){ if (!(c.crew_lc.indexOf(q)===0) && c.crew_lc.indexOf(q)!==-1) res.push({type:"crew", crew:c.crew, score:2}); });
    memberPairs.forEach(function(p){ if (p.member_lc.indexOf(q)===0) res.push({type:"member", member:p.member, crew:p.crew, score:1}); });
    memberPairs.forEach(function(p){ if (!(p.member_lc.indexOf(q)===0) && p.member_lc.indexOf(q)!==-1) res.push({type:"member", member:p.member, crew:p.crew, score:2}); });
    res.sort(function(a,b){ if (a.score!==b.score) return a.score-b.score; var sa=(a.type==="crew"?a.crew:a.member), sb=(b.type==="crew"?b.crew:b.member); return sa.localeCompare(sb); });
    if (res.length>20) res.length=20; return res;
  }
  function renderResults(items) {
    var box = document.getElementById("search-results");
    if (!items.length) { box.style.display="none"; box.innerHTML=""; return; }
    var html = "";
    for (var i=0;i<items.length;i++) {
      var it = items[i];
      if (it.type==="crew")
        html += '<li data-type="crew" data-crew="'+encodeURIComponent(it.crew)+'"><span class="badge badge-crew">Crew</span> '+escapeHtml(it.crew)+'</li>';
      else
        html += '<li data-type="member" data-crew="'+encodeURIComponent(it.crew)+'" data-member="'+encodeURIComponent(it.member)+'"><span class="badge badge-member">Member</span> '+escapeHtml(it.member)+' <span style="opacity:.6">— '+escapeHtml(it.crew)+'</span></li>';
    }
    box.innerHTML = html; box.style.display="block"; activeIndex=-1;
  }
  function ensureBucketVisibleForCrew(crewId) {
    var b = cfg.bucket_map[crewId];
    if (!visibleBuckets.has(b)) {
      visibleBuckets.add(b);
      updateBucketButtons();
      applyBucketFilter();
    }
  }
  function focusCrew(crew) {
    ensureBucketVisibleForCrew(crew);
    var keep = new Set([crew].concat(network.getConnectedNodes(crew)));
    fadeAllExcept(network.body.data.nodes, network.body.data.edges, keep);
    try { network.selectNodes([crew]); network.focus(crew, {scale:1.0, animation:{duration:600, easingFunction:"easeInOutQuad"}}); } catch(e) {}
  }
  function focusMemberInCrew(member, crew) {
    ensureBucketVisibleForCrew(crew);
    var nodesDS = network.body.data.nodes, edgesDS = network.body.data.edges;
    addMembers(network, nodesDS, edgesDS, crew);
    var mid = mId(member);
    var keep = new Set([mid].concat(network.getConnectedNodes(mid)));
    fadeAllExcept(nodesDS, edgesDS, keep);
    try { network.selectNodes([mid]); network.focus(mid, {scale:1.1, animation:{duration:600, easingFunction:"easeInOutQuad"}}); } catch(e) {}
  }
  var activeIndex = -1;
  function updateActive(items) {
    for (var i=0;i<items.length;i++) items[i].classList.toggle("active", i===activeIndex);
    if (items[activeIndex]) items[activeIndex].scrollIntoView({block:"nearest"});
  }
  function applySelectionFromList(idx) {
    var box = document.getElementById("search-results");
    var items = Array.from(box.querySelectorAll("li"));
    if (idx<0 || idx>=items.length) return;
    var li = items[idx]; var t = li.getAttribute("data-type");
    var crew = decodeURIComponent(li.getAttribute("data-crew")||"");
    if (t==="crew") focusCrew(crew);
    else { var member = decodeURIComponent(li.getAttribute("data-member")||""); focusMemberInCrew(member, crew); }
    box.style.display="none";
  }
  function wireSearch() {
    var si = document.getElementById("search-input");
    var box = document.getElementById("search-results");
    si.addEventListener("input", debounce(function(){ renderResults(topMatches(si.value||"")); }, 150));
    si.addEventListener("keydown", function(e){
      var items = Array.from(box.querySelectorAll("li")); if (!items.length) return;
      if (e.key==="ArrowDown") { e.preventDefault(); activeIndex=Math.min(items.length-1, activeIndex+1); updateActive(items); }
      else if (e.key==="ArrowUp") { e.preventDefault(); activeIndex=Math.max(0, activeIndex-1); updateActive(items); }
      else if (e.key==="Enter") { e.preventDefault(); if (activeIndex>=0) applySelectionFromList(activeIndex); }
      else if (e.key==="Escape") { box.style.display="none"; }
    });
    box.addEventListener("click", function(e){
      var li = e.target.closest("li"); if (!li) return;
      var items = Array.from(box.querySelectorAll("li"));
      activeIndex = items.indexOf(li); applySelectionFromList(activeIndex);
    });
    document.addEventListener("click", function(e){
      if (!e.target.closest("#search-wrap")) box.style.display="none";
    });
  }

  /* ---------- physics toggle ---------- */
  var physicsOn = true; // ON by default
  function setPhysics(on) {
    physicsOn = !!on;
    network.setOptions({ physics: { enabled: physicsOn } });
    var el = document.getElementById("physics-btn");
    if (el) el.textContent = physicsOn ? "Physics: on" : "Physics: off";
    if (physicsOn) try { network.stabilize(200); } catch(e) {}
  }

  /* ---------- Progressive reveal by year bucket ---------- */
  var MASTER = { nodes: null, edges: null };
  var visibleBuckets = new Set((cfg.initial_buckets || []).slice());

  function snapshotMaster(nodesDS, edgesDS) {
    if (MASTER.nodes && MASTER.edges) return;
    MASTER.nodes = nodesDS.get().map(function(n){
      var copy = Object.assign({}, n);
      if (typeof copy.title !== "string" && copy.title && copy.title.innerHTML) {
        copy.title = copy.title.innerHTML;  // store as string HTML for safe restore
      }
      return copy;
    });
    MASTER.edges = edgesDS.get().map(function(e){ return Object.assign({}, e); });
  }

  function updateBucketButtons() {
    var bOld = document.getElementById("btn-old");
    var bMid = document.getElementById("btn-mid");
    var bNew = document.getElementById("btn-new");
    if (bOld) { bOld.classList.toggle("active", visibleBuckets.has("old")); bOld.setAttribute("aria-pressed", visibleBuckets.has("old")); }
    if (bMid) { bMid.classList.toggle("active", visibleBuckets.has("mid")); bMid.setAttribute("aria-pressed", visibleBuckets.has("mid")); }
    if (bNew) { bNew.classList.toggle("active", visibleBuckets.has("new")); bNew.setAttribute("aria-pressed", visibleBuckets.has("new")); }
  }

  function applyBucketFilter() {
    var nodesDS = network.body.data.nodes;
    var edgesDS = network.body.data.edges;

    var allowed = new Set();
    for (var i=0;i<MASTER.nodes.length;i++) {
      var n = MASTER.nodes[i];
      var b = cfg.bucket_map[n.id];
      if (visibleBuckets.has(b)) allowed.add(n.id);
    }

    nodesDS.clear(); edgesDS.clear();
    nodesDS.add(MASTER.nodes.filter(function(n){ return allowed.has(n.id); }));
    edgesDS.add(MASTER.edges.filter(function(e){ return allowed.has(e.from) && allowed.has(e.to); }));

    // rebuild color cache & tooltips
    originalNodeColors = new Map();
    saveOriginalColors(nodesDS);
    convertTitlesToHTML(nodesDS);

    // keep physics ON for a cool/organic feel
    try {
      network.setOptions({ physics: { enabled: true } });
      network.stabilize(150);
    } catch(e) {}
  }

  /* ---------- setup ---------- */
  function setup(nodesDS, edgesDS) {
    saveOriginalColors(nodesDS);
    convertTitlesToHTML(nodesDS);

    // Snapshot full graph then filter to initial ("old")
    snapshotMaster(nodesDS, edgesDS);
    updateBucketButtons();
    applyBucketFilter();

    // Double-click crew to toggle members
    network.on("doubleClick", function (params) {
      if (!params.nodes || !params.nodes.length) return;
      var id = params.nodes[0];
      if (String(id).indexOf("m:")===0) return;
      if (!(cfg.member_map[id])) return;
      if (crewHasMembersVisible(nodesDS, id)) removeMembers(nodesDS, edgesDS, id);
      else addMembers(network, nodesDS, edgesDS, id);
    });

    // Hover highlight
    network.on("hoverNode", function (params) {
      var keep = new Set([params.node].concat(network.getConnectedNodes(params.node)));
      fadeAllExcept(nodesDS, edgesDS, keep);
    });
    network.on("blurNode", function () { clearFade(nodesDS, edgesDS); });

    // Search (auto-reveal bucket if needed)
    wireSearch();

    // Physics button (starts ON)
    var pb = document.getElementById("physics-btn");
    if (pb) pb.addEventListener("click", function(){ setPhysics(!physicsOn); });
    setPhysics(true);

    // Legend toggle (mobile)
    var lb = document.getElementById("legend-toggle");
    if (lb) lb.addEventListener("click", function() {
      var L = document.getElementById("legend-panel");
      if (!L) return;
      var shown = (L.style.display !== "none" && getComputedStyle(L).display !== "none");
      L.style.display = shown ? "none" : "block";
      lb.textContent = shown ? "?" : "×";
    });

    // Bucket toggle buttons
    function toggleBucket(bucket) {
      if (visibleBuckets.has(bucket)) visibleBuckets.delete(bucket);
      else visibleBuckets.add(bucket);
      updateBucketButtons();
      applyBucketFilter();
    }
    [["btn-old","old"],["btn-mid","mid"],["btn-new","new"]].forEach(function([id,b]){
      var el = document.getElementById(id);
      if (el) el.addEventListener("click", function(){ toggleBucket(b); });
    });
  }

  ensureReady(function(nodesDS, edgesDS) { setup(nodesDS, edgesDS); });
})();
</script>

</body>
</html>
